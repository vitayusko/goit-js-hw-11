{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// async function fetchImages(query) {\n//     const apiKey = '44095628-d0027d9df3d6429662d87f006';\n//     const url = `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n//     console.log('url', url);\n//     try {\n//         const response = await fetch(url);\n//         const json = await response.json();\n//         return json;\n//     } catch (error) {\n//         throw error;\n//     }\n// }\n\n// export default fetchImages;\n\nfunction fetchImages(query) {\n    const apiKey = '44095628-d0027d9df3d6429662d87f006';\n    const url = `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n    console.log('url', url);\n    \n    return fetch(url)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Network response was not ok');\n            }\n            return response.json();\n        })\n        .then(json => {\n            return json;\n        })\n        .catch(error => {\n            throw error;\n        });\n}\n\nexport default fetchImages;","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n\n// function renderImages(images) {\n//     const gallery = document.querySelector('.gallery');\n//     gallery.innerHTML = '';\n//     if (images.length === 0) {\n//         iziToast.error({\n//             message: 'Sorry, there are no images matching your search. Please try again!',\n//         });\n//         return;\n//     }\n//     const galleryHtml = images\n//         .map(img => {\n//             return `\n//                 <li class=\"gallery-item\">\n//                     <a class=\"gallery-link\" href=\"${img.largeImageURL}\">\n//                         <img src=\"${img.webformatURL}\" alt=\"${img.tags}\">\n//                     </a>\n//                     <ul class=\"item-info\">\n//                         <li class= \"item-list\"><h3>Likes</h3><p>${img.likes}</p></li>\n//                         <li class= \"item-list\"><h3>Views</h3><p>${img.views}</p></li>\n//                         <li class= \"item-list\"><h3>Comments</h3><p>${img.comments}</p></li>\n//                         <li class= \"item-list\"><h3>Downloads</h3><p>${img.downloads}</p></li>\n//                     </ul>\n//                 </li>\n//             `;\n//         })\n//         .join('');\n//     gallery.innerHTML = `<ul class=\"gallery\">${galleryHtml}</ul>`;\n\n//     new SimpleLightbox('.gallery a', {\n//         captionsData: 'alt',\n//         captionDelay: 300,\n//     });\n// }\n\n// export default renderImages;\n\nconst gallery = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 300,\n});\n\nfunction renderImages(images) {\n    const galleryElement = document.querySelector('.gallery');\n    galleryElement.innerHTML = '';\n    if (images.length === 0) {\n        iziToast.error({\n            message: 'Sorry, there are no images matching your search. Please try again!',\n        });\n        return;\n    }\n    const galleryHtml = images\n        .map(img => {\n            return `\n                <li class=\"gallery-item\">\n                    <a class=\"gallery-link\" href=\"${img.largeImageURL}\">\n                        <img src=\"${img.webformatURL}\" alt=\"${img.tags}\">\n                    </a>\n                    <ul class=\"item-info\">\n                        <li class=\"item-list\"><h3>Likes</h3><p>${img.likes}</p></li>\n                        <li class=\"item-list\"><h3>Views</h3><p>${img.views}</p></li>\n                        <li class=\"item-list\"><h3>Comments</h3><p>${img.comments}</p></li>\n                        <li class=\"item-list\"><h3>Downloads</h3><p>${img.downloads}</p></li>\n                    </ul>\n                </li>\n            `;\n        })\n        .join('');\n    galleryElement.innerHTML = galleryHtml;\n\n    gallery.refresh();\n}\n\nexport default renderImages;\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport fetchImages from './js/pixabay-api';\nimport renderImages from './js/render-functions';\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('.input');\nconst loader = document.getElementById('loader');\nconst galleryElement = document.querySelector('.gallery');\n\nif (!loader) {\n    console.error('Loader element not found');\n}\n\nform.addEventListener('submit', function(event) {\n    event.preventDefault();\n\n    const query = input.value.trim();\n    if (query === '') {\n        iziToast.error({\n            title: 'Error:',\n            message: 'Please enter a search term.',\n            position: 'topRight',\n        });\n        return;\n    }\n\n    galleryElement.innerHTML = '';\n\n    console.log('Showing loader');\n    loader.style.display = 'block'; \n\n    fetchImages(query)\n        .then(response => {\n            const images = response.hits;\n            if (typeof images === 'string') {\n                iziToast.error({\n                    title: 'Error:',\n                    message: images,\n                    position: 'topRight',\n                });\n            } else {\n                renderImages(images);\n            }\n        })\n        .catch(error => {\n            iziToast.error({\n                title: 'Error:',\n                message: 'An error occurred while fetching images. Please try again later.',\n                position: 'topRight',\n            });\n        })\n        .finally(() => {\n            console.log('Hiding loader');\n            loader.style.display = 'none';\n            form.reset();\n        });\n});\n\n\n\n\n// import iziToast from 'izitoast';\n// import 'izitoast/dist/css/iziToast.min.css';\n\n// import fetchImages from './js/pixabay-api';\n// import renderImages from './js/render-functions';\n\n// const form = document.querySelector('.form');\n// const input = document.querySelector('.input');\n// const loader = document.getElementById('loader');\n\n// form.addEventListener('submit', async event => {\n//     event.preventDefault();\n\n//     const query = input.value.trim();\n//     if (query === '') {\n//         iziToast.error({\n//             title: 'Error:',\n//             message: 'Please enter a search term.',\n//             position: 'topRight',\n//         });\n//         return;\n//     }\n\n//     loader.style.display = 'block'; \n\n//     try {\n//         // loader.style.display = 'block';\n//         const response = await fetchImages(query);\n//         const images = response.hits;\n//         if (typeof images === 'string') {\n//             iziToast.error({\n//                 title: 'Error:',\n//                 message: images,\n//                 position: 'topRight',\n//             });\n//         } else {\n//             renderImages(images);\n//         }\n//     } catch (error) {\n//         iziToast.error({\n//             title: 'Error:',\n//             message: 'An error occurred while fetching images. Please try again later.',\n//             position: 'topRight',\n//         });\n//     } finally {\n//         loader.style.display = 'none';\n//         form.reset();\n//     }\n// });\n\n"],"names":["fetchImages","query","url","response","json","error","gallery","SimpleLightbox","renderImages","images","galleryElement","galleryHtml","img","form","input","loader","event","iziToast"],"mappings":"6vBAeA,SAASA,EAAYC,EAAO,CAExB,MAAMC,EAAM,qEAA4C,mBAAmBD,CAAK,CAAC,2DACjF,eAAQ,IAAI,MAAOC,CAAG,EAEf,MAAMA,CAAG,EACX,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,6BAA6B,EAEjD,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKC,GACKA,CACV,EACA,MAAMC,GAAS,CACZ,MAAMA,CAClB,CAAS,CACT,CCOA,MAAMC,EAAU,IAAIC,EAAe,aAAc,CAC7C,aAAc,MACd,aAAc,GAClB,CAAC,EAED,SAASC,EAAaC,EAAQ,CAC1B,MAAMC,EAAiB,SAAS,cAAc,UAAU,EAExD,GADAA,EAAe,UAAY,GACvBD,EAAO,SAAW,EAAG,CACrB,SAAS,MAAM,CACX,QAAS,oEACrB,CAAS,EACD,MACH,CACD,MAAME,EAAcF,EACf,IAAIG,GACM;AAAA;AAAA,oDAEiCA,EAAI,aAAa;AAAA,oCACjCA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,iEAGLA,EAAI,KAAK;AAAA,iEACTA,EAAI,KAAK;AAAA,oEACNA,EAAI,QAAQ;AAAA,qEACXA,EAAI,SAAS;AAAA;AAAA;AAAA,aAIzE,EACA,KAAK,EAAE,EACZF,EAAe,UAAYC,EAE3BL,EAAQ,QAAO,CACnB,CCpEA,MAAMO,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAS,SAAS,eAAe,QAAQ,EACzCL,EAAiB,SAAS,cAAc,UAAU,EAEnDK,GACD,QAAQ,MAAM,0BAA0B,EAG5CF,EAAK,iBAAiB,SAAU,SAASG,EAAO,CAC5CA,EAAM,eAAc,EAEpB,MAAMf,EAAQa,EAAM,MAAM,KAAI,EAC9B,GAAIb,IAAU,GAAI,CACdgB,EAAS,MAAM,CACX,MAAO,SACP,QAAS,8BACT,SAAU,UACtB,CAAS,EACD,MACH,CAEDP,EAAe,UAAY,GAE3B,QAAQ,IAAI,gBAAgB,EAC5BK,EAAO,MAAM,QAAU,QAEvBf,EAAYC,CAAK,EACZ,KAAKE,GAAY,CACd,MAAMM,EAASN,EAAS,KACpB,OAAOM,GAAW,SAClBQ,EAAS,MAAM,CACX,MAAO,SACP,QAASR,EACT,SAAU,UAC9B,CAAiB,EAEDD,EAAaC,CAAM,CAEnC,CAAS,EACA,MAAMJ,GAAS,CACZY,EAAS,MAAM,CACX,MAAO,SACP,QAAS,mEACT,SAAU,UAC1B,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACX,QAAQ,IAAI,eAAe,EAC3BF,EAAO,MAAM,QAAU,OACvBF,EAAK,MAAK,CACtB,CAAS,CACT,CAAC"}