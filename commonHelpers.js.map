{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["async function fetchImages(query) {\n    const apiKey = '44095628-d0027d9df3d6429662d87f006';\n    const url = `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n    console.log('url', url);\n    try {\n        const response = await fetch(url);\n        const json = await response.json();\n        return json;\n    } catch (error) {\n        throw error;\n    }\n}\n\nexport default fetchImages;\n\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nfunction renderImages(images) {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = '';\n    if (images.length === 0) {\n        iziToast.error({\n            message: 'Sorry, there are no images matching your search. Please try again!',\n        });\n        return;\n    }\n    const galleryHtml = images\n        .map(img => {\n            return `\n                <li class=\"gallery-item\">\n                    <a class=\"gallery-link\" href=\"${img.largeImageURL}\">\n                        <img src=\"${img.webformatURL}\" alt=\"${img.tags}\">\n                    </a>\n                    <ul class=\"item-info\">\n                        <li class= \"item-list\"><h3>Likes</h3><p>${img.likes}</p></li>\n                        <li class= \"item-list\"><h3>Views</h3><p>${img.views}</p></li>\n                        <li class= \"item-list\"><h3>Comments</h3><p>${img.comments}</p></li>\n                        <li class= \"item-list\"><h3>Downloads</h3><p>${img.downloads}</p></li>\n                    </ul>\n                </li>\n            `;\n        })\n        .join('');\n    gallery.innerHTML = `<ul class=\"gallery\">${galleryHtml}</ul>`;\n\n    new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 300,\n    });\n}\n\nexport default renderImages;\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport fetchImages from './js/pixabay-api';\nimport renderImages from './js/render-functions';\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('.input');\nconst loader = document.getElementById('loader');\n\nform.addEventListener('submit', async event => {\n    event.preventDefault();\n\n    const query = input.value.trim();\n    if (query === '') {\n        iziToast.error({\n            title: 'Error:',\n            message: 'Please enter a search term.',\n            position: 'topRight',\n        });\n        return;\n    }\n\n    try {\n        loader.style.display = 'block';\n        const response = await fetchImages(query);\n        const images = response.hits;\n        if (typeof images === 'string') {\n            iziToast.error({\n                title: 'Error:',\n                message: images,\n                position: 'topRight',\n            });\n        } else {\n            renderImages(images);\n        }\n    } catch (error) {\n        iziToast.error({\n            title: 'Error:',\n            message: 'An error occurred while fetching images. Please try again later.',\n            position: 'topRight',\n        });\n    } finally {\n        loader.style.display = 'none';\n        form.reset();\n    }\n});\n\n"],"names":["fetchImages","query","url","error","renderImages","images","gallery","galleryHtml","img","SimpleLightbox","form","input","loader","event","iziToast"],"mappings":"6vBAAA,eAAeA,EAAYC,EAAO,CAE9B,MAAMC,EAAM,qEAA4C,mBAAmBD,CAAK,CAAC,2DACjF,QAAQ,IAAI,MAAOC,CAAG,EACtB,GAAI,CAGA,OADa,MADI,MAAM,MAAMA,CAAG,GACJ,MAE/B,OAAQC,EAAO,CACZ,MAAMA,CACT,CACL,CCRA,SAASC,EAAaC,EAAQ,CAC1B,MAAMC,EAAU,SAAS,cAAc,UAAU,EAEjD,GADAA,EAAQ,UAAY,GAChBD,EAAO,SAAW,EAAG,CACrB,SAAS,MAAM,CACX,QAAS,oEACrB,CAAS,EACD,MACH,CACD,MAAME,EAAcF,EACf,IAAIG,GACM;AAAA;AAAA,oDAEiCA,EAAI,aAAa;AAAA,oCACjCA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,kEAGJA,EAAI,KAAK;AAAA,kEACTA,EAAI,KAAK;AAAA,qEACNA,EAAI,QAAQ;AAAA,sEACXA,EAAI,SAAS;AAAA;AAAA;AAAA,aAI1E,EACA,KAAK,EAAE,EACZF,EAAQ,UAAY,uBAAuBC,CAAW,QAEtD,IAAIE,EAAe,aAAc,CAC7B,aAAc,MACd,aAAc,GACtB,CAAK,CACL,CC7BA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAS,SAAS,eAAe,QAAQ,EAE/CF,EAAK,iBAAiB,SAAU,MAAMG,GAAS,CAC3CA,EAAM,eAAc,EAEpB,MAAMZ,EAAQU,EAAM,MAAM,KAAI,EAC9B,GAAIV,IAAU,GAAI,CACda,EAAS,MAAM,CACX,MAAO,SACP,QAAS,8BACT,SAAU,UACtB,CAAS,EACD,MACH,CAED,GAAI,CACAF,EAAO,MAAM,QAAU,QAEvB,MAAMP,GADW,MAAML,EAAYC,CAAK,GAChB,KACpB,OAAOI,GAAW,SAClBS,EAAS,MAAM,CACX,MAAO,SACP,QAAST,EACT,SAAU,UAC1B,CAAa,EAEDD,EAAaC,CAAM,CAE1B,MAAe,CACZS,EAAS,MAAM,CACX,MAAO,SACP,QAAS,mEACT,SAAU,UACtB,CAAS,CACT,QAAc,CACNF,EAAO,MAAM,QAAU,OACvBF,EAAK,MAAK,CACb,CACL,CAAC"}